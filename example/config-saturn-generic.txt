# network size
SIZE 9

# parameters of periodic execution
# CYCLES 200000
CYCLES 400
CYCLE 1

# Latency
client_request_latency 10
client_migration_latency 10 # How long it takes for a client to connect to other DC
mindelay 5
maxdelay 10

# random.seed 1234567890
network.size SIZE
simulation.endtime CYCLE*CYCLES
simulation.logtime CYCLE


########### CLIENT CONFIGS #############
clients_per_datacenter 200

client_read_percentage 95
client_update_percentage 5

client_read_levels_percentage [80,15,5]
client_update_levels_percentages [80,15,5]

# percentage clients that use objects up to a given distance
# eg. with [50,50], half clients will only use objects from the local DC
# and the other half will use objects from both local and the DCs 1 level away
client_locality_percentage [100,0,0]

clients_eager_percentage 20
########################################

total_objects_per_datacenter 1000
levels 3
levels_percentage [80,15,5]

statistics_window 5

should_partition_DC true
should_partition_clients false
partitions_clients example/partitions/four_nodes_all_connected_partition.top
partitions_datacenters example/partitions/four_nodes_three_brokers_partition.top
partition_start 30
partition_end 80











type type
tree tree
##########################################

################### protocols ===========================

protocol.link peersim.core.IdleProtocol

protocol.type example.genericsaturn.TypeProtocol

protocol.tree example.genericsaturn.TreeProtocol
protocol.tree.step CYCLE
protocol.tree.transport tr
protocol.tree.tree_protocol tree
protocol.tree.type_protocol type
protocol.tree.linkable link

protocol.urt example.common.PointToPointTransport
protocol.urt.mindelay 0
protocol.urt.maxdelay 100
protocol.urt.type_protocol type

protocol.tr UnreliableTransport
protocol.tr.transport urt
protocol.tr.drop 0

################### initialization ======================
### Set node type
init.0 example.genericsaturn.InitTypeProtocol
init.0.ndatanodes 4
init.0.type_protocol type

### Creates graph and sets latencies
init.1 example.genericsaturn.WireTopology
init.1.topology_path example/topologies
init.1.topology_file four_nodes_three_brokers.top
init.1.protocol link
init.1.type_protocol type

### Inits queues based on graph
init.2 example.genericsaturn.InitTreeProtocol
init.2.tree_protocol tree
init.2.type_protocol type
init.2.clients_cycle 1

init.sch CDScheduler
init.sch.protocol tree
init.sch.randstart

################ control ==============================

control.0 example.genericsaturn.Controller
control.0.protocol tree
control.0.type type
control.0.step CYCLE
control.0.output_file output/optimal5